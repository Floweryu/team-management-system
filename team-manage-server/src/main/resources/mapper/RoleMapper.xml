<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.buct.team.manage.dao.RoleMapper">

    <select id="getRoleByUserId" parameterType="String">
        SELECT t_user.user_id, t_user.username, t_role.id, t_role.`name`, t_role.`key`
        FROM t_user
        INNER JOIN t_user_role ON t_user.user_id = t_user_role.user_id
        INNER JOIN t_role ON t_user_role.role_id = t_role.id
        WHERE t_user.user_id = #{userId}
    </select>
</mapper>